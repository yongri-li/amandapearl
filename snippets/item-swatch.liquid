{% if settings.display_color_variant %}
<ul class="item-swatch">
{% for option in product.options %}
  {% if option == 'Material'  %}
    {% assign index = forloop.index0 %}
    {% assign colorlist = '' %}
    {% assign color = '' %}
    {% for variant in product.variants %}
{%- include 'bold-variant' with variant, hide_action: 'skip' -%}
      {% capture color %}
        {{ variant.options[index] }}
      {% endcapture %}
      {% unless colorlist contains color %}

      {% assign text = color | handleize %}

      <li>
        <label style="border: 1px solid #777; background-color: {{ variant | img_url: '30x' }}; background-image: url(http:{{ variant | img_url: '30x' }}); background-position: center center;"></label>

        {% if variant.image != null %}
        <div class="hidden">
          <a href="{{ variant.image.src | product_img_url: 'large' }}"></a>
        </div>
        {% endif %}
      </li>

        {% capture tempList %}
          {{ colorlist | append: color | append: ' ' }}
        {% endcapture %}

        {% assign colorlist = tempList %}
      {% endunless %}

    {% endfor %}
  {% endif %}
{% endfor %}
</ul>
{% endif %}
